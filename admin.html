<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin | Luz Creaciones</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Quicksand:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css" />
</head>

<body>
    <header class="site-header">
        <div class="header-inner">
            <a href="index.html" class="brand">
                <img src="logo.png" alt="Luz Creaciones" class="logo" />
                <div class="brand-text">
                    <h1 class="font-brand">Luz Creaciones</h1>
                    <p>Panel de Administraci칩n</p>
                </div>
            </a>
            <nav class="main-nav">
                <a href="index.html">Volver al Cat치logo</a>
                <button id="logoutBtn" class="btn-sm"
                    style="background:none; border:none; cursor:pointer; color: var(--text-light); font-weight:600; display:none;">Cerrar
                    Sesi칩n</button>
            </nav>
        </div>
    </header>

    <main class="main-content">
        <!-- Login Section -->
        <section id="loginSection" style="max-width: 400px; margin: 60px auto; text-align: center;">
            <div class="admin-card">
                <h2 style="margin-bottom: 16px;">Bienvenido</h2>
                <p style="color: var(--text-light); margin-bottom: 24px;">
                    Ingresa tu clave de acceso para gestionar el cat치logo.
                </p>

                <div class="form-group" style="text-align: left;">
                    <label for="githubTokenInput">Clave de Acceso</label>
                    <input type="password" id="githubTokenInput" class="form-control"
                        placeholder="Pegar clave aqu칤..." />
                </div>

                <button id="guardarTokenBtn" class="btn btn-primary" style="width: 100%;">
                    Entrar al Panel
                </button>
            </div>
        </section>

        <!-- Admin Dashboard -->
        <section id="adminSection" style="display:none;">
            <div class="admin-layout">

                <!-- Sidebar / Formulario -->
                <aside>
                    <div class="admin-card" style="position: sticky; top: 100px;">
                        <h3 style="margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 10px;">
                            <span id="formTitle">Nuevo Producto</span>
                        </h3>

                        <form id="formProducto">
                            <input type="hidden" id="productoIndex" value="" />

                            <div class="form-group">
                                <label>Nombre del producto</label>
                                <input type="text" id="nombre" class="form-control" required />
                            </div>

                            <div class="form-group">
                                <label>Precio</label>
                                <input type="number" id="precio" class="form-control" min="0" step="1" required />
                            </div>

                            <div class="form-group">
                                <label>Categor칤a</label>
                                <select id="categoria" class="form-control">
                                    <option value="bisuteria">Bisuter칤a</option>
                                    <option value="madera">Madera</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label>Descripci칩n</label>
                                <textarea id="descripcion" class="form-control" rows="3"></textarea>
                            </div>

                            <div class="form-group">
                                <label>Imagen</label>
                                <div class="file-upload" onclick="document.getElementById('imagenInput').click()">
                                    <span style="font-size: 2rem;">游닝</span>
                                    <p style="margin: 8px 0 0; font-size: 0.9rem; color: var(--text-light);">
                                        Clic para subir imagen
                                    </p>
                                    <input type="file" id="imagenInput" accept="image/*" style="display: none;" />
                                </div>
                                <div id="previewImagen" style="margin-top: 12px; text-align: center;"></div>
                            </div>

                            <div style="display: flex; gap: 10px;">
                                <button type="submit" class="btn btn-primary" style="flex: 1;">Guardar</button>
                                <button type="button" id="cancelarEditBtn" class="btn"
                                    style="background: #f0f0f0; display: none;">Cancelar</button>
                            </div>
                        </form>
                    </div>
                </aside>

                <!-- Product List -->
                <div class="admin-content">
                    <div class="admin-card">
                        <div class="admin-header"
                            style="display: flex; justify-content: space-between; align-items: center;">
                            <h3>Inventario</h3>
                            <span class="badge"
                                style="background: var(--bg-body); padding: 4px 12px; border-radius: 20px; font-size: 0.85rem; color: var(--text-light);">
                                <span id="totalProductos">0</span> productos
                            </span>
                        </div>

                        <div id="listaProductos" class="admin-grid">
                            <!-- Renderizado por JS -->
                        </div>
                    </div>
                </div>

            </div>
        </section>
    </main>

    <!-- Toast Container -->
    <div id="toastContainer" class="toast-container"></div>

    <script src="admin.js"></script>
</body>

</html>